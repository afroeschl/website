<%- include('partials/header', {
      title: 'sensors',
      tailwind: true,
      bodyClass: 'bg-black text-gray-300 font-sans'
    }) %>

<div class="container">
  <h1>ESP32 Sensor Data</h1>
  <pre id="data">Loading...</pre>
</div>
<script>
  async function fetchData() {
    try {
      const response = await fetch("/data");
      const data = await response.json();
      document.getElementById("data").innerText = JSON.stringify(data, null, 2);
    } catch (error) {
      console.error("Error fetching data:", error);
    }
  }
  setInterval(fetchData, 3000);
  window.onload = fetchData;
</script>
<%- include('partials/footer') %>

