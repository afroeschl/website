<%- include('partials/header', {
      title: 'Register',
      tailwind: true,
      bodyClass: 'bg-black text-gray-300 font-sans'
    }) %>

<h2>Register</h2>
<br>
<form onsubmit="return registerUser(event)">
	<input id="username" placeholder="Enter username" required>
	<br><br>
	<input id="password" placeholder="Enter password" required>
	<br><br>
	<button type="submit">Register</button>
</form>
<p id="message"></p>

<script>
    async function registerUser(event) {
	event.preventDefault();
	const username = document.getElementById("username").value;
    	const password = document.getElementById("password").value;
    	const response = await fetch("/register", {
	    method: "POST",
	    headers: { "Content-Type": "application/json" },
	    body: JSON.stringify({ username, password })
	});
	const result = await response.json();
	document.getElementById("message").textContent = result.message;
    }
</script>

<%- include('partials/footer') %>
